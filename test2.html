<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë½€ëª¨ë„ë¡œ ìŠ¤í„°ë”” í”Œë˜ë„ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ ë°” */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            transform: translateY(-60px);
            transition: transform 0.3s ease;
        }

        .navbar:hover, .navbar.active {
            transform: translateY(0);
        }

        .nav-menu {
            display: flex;
            gap: 40px;
        }

        .nav-item {
            padding: 12px 24px;
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
        }

        /* ì»¨í…Œì´ë„ˆ */
        .container {
            margin-top: 100px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
            padding: 20px;
        }

        .page {
            display: none;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-title {
            font-size: 28px;
            color: #333;
            margin-bottom: 30px;
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* í•™ìŠµê³„íš í˜ì´ì§€ */
        .subject-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .subject-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .subject-card:hover {
            transform: translateY(-5px);
        }

        .subject-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .subject-emoji {
            font-size: 24px;
        }

        .time-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .time-selector label {
            font-weight: 500;
            color: #555;
            margin-bottom: 5px;
        }

        .time-selector select {
            padding: 10px 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            transition: border-color 0.3s ease;
        }

        .time-selector select:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .pomodoro-display {
            background: #4ecdc4;
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }

        /* ì‹œê°„í‘œ í˜ì´ì§€ */
        .timetable {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .day-header {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
        }

        .time-slot {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 8px;
            text-align: center;
            font-size: 12px;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .time-slot.school {
            background: #e8f5e8;
            border-color: #4ecdc4;
        }

        .time-slot.study {
            background: #fff3cd;
            border-color: #ffc107;
        }

        .time-slot.break {
            background: #f8d7da;
            border-color: #dc3545;
        }

        /* íƒ€ì´ë¨¸ í˜ì´ì§€ */
        .timer-container {
            text-align: center;
            padding: 50px;
        }

        .timer-display {
            font-size: 72px;
            font-weight: bold;
            color: #333;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .timer-status {
            font-size: 24px;
            color: #666;
            margin-bottom: 30px;
        }

        .timer-controls {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .timer-btn {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .timer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .timer-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* ìŠ¤ì¼€ì¤„ ì„¤ì • í˜ì´ì§€ */
        .schedule-settings {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .settings-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
        }

        .section-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            border-bottom: 3px solid #4ecdc4;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            transition: border-color 0.3s ease;
        }

        .input-group select:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .schedule-builder {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .schedule-form {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr auto;
            gap: 10px;
            align-items: end;
            margin-bottom: 15px;
        }

        .add-btn {
            background: #4ecdc4;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .schedule-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: #e8f5e8;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .remove-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }

        /* í‰ê°€ íŒ¨ë„ */
        .evaluation-panel {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
        }

        .evaluation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .eval-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .eval-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .eval-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .status-good { background: #4ecdc4; }
        .status-warning { background: #ffd93d; color: #333; }
        .status-danger { background: #ff6b6b; }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .nav-menu {
                flex-wrap: wrap;
                gap: 15px;
            }
            
            .nav-item {
                font-size: 14px;
                padding: 10px 20px;
            }
            
            .subject-grid {
                grid-template-columns: 1fr;
            }
            
            .schedule-settings {
                grid-template-columns: 1fr;
            }
            
            .timer-display {
                font-size: 48px;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar" id="navbar">
        <div class="nav-menu">
            <button class="nav-item active" onclick="showPage('study-plan')">ğŸ“š í•™ìŠµê³„íš</button>
            <button class="nav-item" onclick="showPage('timetable')">ğŸ“… ì‹œê°„í‘œ</button>
            <button class="nav-item" onclick="showPage('timer')">ğŸ… íƒ€ì´ë¨¸</button>
            <button class="nav-item" onclick="showPage('schedule')">âš™ï¸ ìŠ¤ì¼€ì¤„ ì„¤ì •</button>
        </div>
    </nav>

    <div class="container">
        <div id="study-plan" class="page active">
            <h1 class="page-title">ğŸ“š ê³¼ëª©ë³„ í•™ìŠµ ê³„íš</h1>
            
            <div class="subject-grid">
                <div class="subject-card">
                    <div class="subject-title">
                        <span class="subject-emoji">ğŸ“–</span>
                        êµ­ì–´
                    </div>
                    <div class="time-selector">
                        <div>
                            <label>í‰ì¼ í•™ìŠµì‹œê°„</label>
                            <select id="korean-weekday" onchange="updatePomodoroCount('korean')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60" selected>1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                        <div>
                            <label>ì£¼ë§ í•™ìŠµì‹œê°„</label>
                            <select id="korean-weekend" onchange="updatePomodoroCount('korean')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60">1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120" selected>2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                    </div>
                    <div class="pomodoro-display" id="korean-pomodoro">
                        í‰ì¼: 2ë½€ëª¨ë„ë¡œ | ì£¼ë§: 4ë½€ëª¨ë„ë¡œ
                    </div>
                </div>

                <div class="subject-card">
                    <div class="subject-title">
                        <span class="subject-emoji">ğŸŒ</span>
                        ì˜ì–´
                    </div>
                    <div class="time-selector">
                        <div>
                            <label>í‰ì¼ í•™ìŠµì‹œê°„</label>
                            <select id="english-weekday" onchange="updatePomodoroCount('english')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60" selected>1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                        <div>
                            <label>ì£¼ë§ í•™ìŠµì‹œê°„</label>
                            <select id="english-weekend" onchange="updatePomodoroCount('english')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60">1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120" selected>2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                    </div>
                    <div class="pomodoro-display" id="english-pomodoro">
                        í‰ì¼: 2ë½€ëª¨ë„ë¡œ | ì£¼ë§: 4ë½€ëª¨ë„ë¡œ
                    </div>
                </div>

                <div class="subject-card">
                    <div class="subject-title">
                        <span class="subject-emoji">ğŸ”¢</span>
                        ìˆ˜í•™
                    </div>
                    <div class="time-selector">
                        <div>
                            <label>í‰ì¼ í•™ìŠµì‹œê°„</label>
                            <select id="math-weekday" onchange="updatePomodoroCount('math')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60">1ì‹œê°„</option>
                                <option value="90" selected>1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                        <div>
                            <label>ì£¼ë§ í•™ìŠµì‹œê°„</label>
                            <select id="math-weekend" onchange="updatePomodoroCount('math')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60">1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150" selected>2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                    </div>
                    <div class="pomodoro-display" id="math-pomodoro">
                        í‰ì¼: 3ë½€ëª¨ë„ë¡œ | ì£¼ë§: 5ë½€ëª¨ë„ë¡œ
                    </div>
                </div>

                <div class="subject-card">
                    <div class="subject-title">
                        <span class="subject-emoji">ğŸ›ï¸</span>
                        ì‚¬íšŒ
                    </div>
                    <div class="time-selector">
                        <div>
                            <label>í‰ì¼ í•™ìŠµì‹œê°„</label>
                            <select id="social-weekday" onchange="updatePomodoroCount('social')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30" selected>30ë¶„</option>
                                <option value="60">1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                        <div>
                            <label>ì£¼ë§ í•™ìŠµì‹œê°„</label>
                            <select id="social-weekend" onchange="updatePomodoroCount('social')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60" selected>1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                    </div>
                    <div class="pomodoro-display" id="social-pomodoro">
                        í‰ì¼: 1ë½€ëª¨ë„ë¡œ | ì£¼ë§: 2ë½€ëª¨ë„ë¡œ
                    </div>
                </div>

                <div class="subject-card">
                    <div class="subject-title">
                        <span class="subject-emoji">ğŸ”¬</span>
                        ê³¼í•™
                    </div>
                    <div class="time-selector">
                        <div>
                            <label>í‰ì¼ í•™ìŠµì‹œê°„</label>
                            <select id="science-weekday" onchange="updatePomodoroCount('science')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30" selected>30ë¶„</option>
                                <option value="60">1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                        <div>
                            <label>ì£¼ë§ í•™ìŠµì‹œê°„</label>
                            <select id="science-weekend" onchange="updatePomodoroCount('science')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60" selected>1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                    </div>
                    <div class="pomodoro-display" id="science-pomodoro">
                        í‰ì¼: 1ë½€ëª¨ë„ë¡œ | ì£¼ë§: 2ë½€ëª¨ë„ë¡œ
                    </div>
                </div>

                <div class="subject-card">
                    <div class="subject-title">
                        <span class="subject-emoji">ğŸº</span>
                        í•œêµ­ì‚¬
                    </div>
                    <div class="time-selector">
                        <div>
                            <label>í‰ì¼ í•™ìŠµì‹œê°„</label>
                            <select id="history-weekday" onchange="updatePomodoroCount('history')">
                                <option value="0" selected>í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60">1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                        <div>
                            <label>ì£¼ë§ í•™ìŠµì‹œê°„</label>
                            <select id="history-weekend" onchange="updatePomodoroCount('history')">
                                <option value="0">í•™ìŠµí•˜ì§€ ì•ŠìŒ</option>
                                <option value="30">30ë¶„</option>
                                <option value="60" selected>1ì‹œê°„</option>
                                <option value="90">1ì‹œê°„ 30ë¶„</option>
                                <option value="120">2ì‹œê°„</option>
                                <option value="150">2ì‹œê°„ 30ë¶„</option>
                                <option value="180">3ì‹œê°„</option>
                            </select>
                        </div>
                    </div>
                    <div class="pomodoro-display" id="history-pomodoro">
                        í‰ì¼: 0ë½€ëª¨ë„ë¡œ | ì£¼ë§: 2ë½€ëª¨ë„ë¡œ
                    </div>
                </div>
            </div>

            <div class="evaluation-panel">
                <h2 style="text-align: center; margin-bottom: 20px;">ğŸ“Š í•™ìŠµ í˜„í™© ë¶„ì„</h2>
                <div class="evaluation-grid">
                    <div class="eval-card">
                        <div class="eval-title">ì£¼ê°„ ì´ í•™ìŠµì‹œê°„</div>
                        <div class="eval-status status-good" id="totalStudyTime">
                            ë¶„ì„ ëŒ€ê¸°ì¤‘
                        </div>
                        <div id="totalStudyAdvice">ê³¼ëª©ë³„ í•™ìŠµì‹œê°„ì„ ì„¤ì •í•´ì£¼ì„¸ìš”.</div>
                    </div>
                    
                    <div class="eval-card">
                        <div class="eval-title">í•™ìŠµ ê· í˜•ë„</div>
                        <div class="eval-status status-good" id="studyBalance">
                            ë¶„ì„ ëŒ€ê¸°ì¤‘
                        </div>
                        <div id="balanceAdvice">ê³¼ëª©ê°„ í•™ìŠµì‹œê°„ ê· í˜•ì„ ë¶„ì„í•©ë‹ˆë‹¤.</div>
                    </div>
                    
                    <div class="eval-card">
                        <div class="eval-title">ë½€ëª¨ë„ë¡œ íš¨ìœ¨ì„±</div>
                        <div class="eval-status status-good" id="pomodoroEfficiency">
                            ë¶„ì„ ëŒ€ê¸°ì¤‘
                        </div>
                        <div id="efficiencyAdvice">ë½€ëª¨ë„ë¡œ ê¸°ë²•ì˜ íš¨ìœ¨ì„±ì„ í‰ê°€í•©ë‹ˆë‹¤.</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="timetable" class="page">
            <h1 class="page-title">ğŸ“… í•™êµ ë° ê°œì¸ ì‹œê°„í‘œ</h1>
            
            <div class="timetable">
                <h3 style="margin-bottom: 20px;">ğŸ« í•™êµ ê¸°ë³¸ ì‹œê°„í‘œ</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div class="time-slot school">
                        <strong>1êµì‹œ</strong><br>08:30 - 09:20
                    </div>
                    <div class="time-slot school">
                        <strong>2êµì‹œ</strong><br>09:30 - 10:20
                    </div>
                    <div class="time-slot school">
                        <strong>3êµì‹œ</strong><br>10:30 - 11:20
                    </div>
                    <div class="time-slot school">
                        <strong>4êµì‹œ</strong><br>11:30 - 12:20
                    </div>
                    <div class="time-slot break">
                        <strong>ì ì‹¬ì‹œê°„</strong><br>12:20 - 13:30
                    </div>
                    <div class="time-slot school">
                        <strong>5êµì‹œ</strong><br>13:30 - 14:20
                    </div>
                    <div class="time-slot school">
                        <strong>6êµì‹œ</strong><br>14:30 - 15:20
                    </div>
                    <div class="time-slot school">
                        <strong>7êµì‹œ</strong><br>15:30 - 16:20
                    </div>
                    <div class="time-slot study">
                        <strong>ì•¼ì 1ì°¨</strong><br>16:40 - 17:30
                    </div>
                    <div class="time-slot break">
                        <strong>ì €ë…ì‹ì‚¬</strong><br>17:30 - 18:40
                    </div>
                    <div class="time-slot study">
                        <strong>ì•¼ì 2ì°¨</strong><br>18:40 - 20:00
                    </div>
                    <div class="time-slot study">
                        <strong>ì•¼ì 3ì°¨</strong><br>20:10 - 21:00
                    </div>
                </div>
            </div>

            <div class="timetable">
                <h3 style="margin-bottom: 20px;">ğŸ“‹ ì£¼ê°„ ê°œì¸ í•™ìŠµ ì‹œê°„í‘œ</h3>
                <div class="schedule-grid" id="weeklyTimetable">
                    </div>
            </div>
        </div>

        <div id="timer" class="page">
            <h1 class="page-title">ğŸ… ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸</h1>
            
            <div class="timer-container">
                <div class="timer-display" id="timerDisplay">25:00</div>
                <div class="timer-status" id="timerStatus">í•™ìŠµ ì¤€ë¹„ ì™„ë£Œ</div>
                
                <div class="timer-controls">
                    <button class="timer-btn" id="startBtn" onclick="startTimer()">ì‹œì‘</button>
                    <button class="timer-btn" id="pauseBtn" onclick="pauseTimer()" disabled>ì¼ì‹œì •ì§€</button>
                    <button class="timer-btn" id="resetBtn" onclick="resetTimer()">ë¦¬ì…‹</button>
                </div>
                
                <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 15px;">
                    <h3 style="margin-bottom: 15px;">ğŸ“Š ì˜¤ëŠ˜ì˜ ë½€ëª¨ë„ë¡œ</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                        <div style="text-align: center;">
                            <div style="font-size: 24px; font-weight: bold; color: #4ecdc4;" id="completedPomodoros">0</div>
                            <div>ì™„ë£Œëœ ë½€ëª¨ë„ë¡œ</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 24px; font-weight: bold; color: #ffc107;" id="targetPomodoros">ì˜ˆì • ì—†ìŒ</div>
                            <div>ëª©í‘œ ë½€ëª¨ë„ë¡œ</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 24px; font-weight: bold; color: #764ba2;" id="remainingPomodoros">N/A</div>
                            <div>ë‚¨ì€ ë½€ëª¨ë„ë¡œ</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="schedule" class="page">
            <h1 class="page-title">âš™ï¸ ìŠ¤ì¼€ì¤„ ì„¤ì •</h1>
            
            <div class="schedule-settings">
                <div class="settings-section">
                    <h2 class="section-title">ë½€ëª¨ë„ë¡œ ì‹œê°„ ì„¤ì •</h2>
                    <div class="input-group">
                        <label for="study-duration">í•™ìŠµ ì‹œê°„ (ë¶„)</label>
                        <select id="study-duration">
                            <option value="25" selected>25ë¶„</option>
                            <option value="30">30ë¶„</option>
                            <option value="45">45ë¶„</option>
                            <option value="60">60ë¶„</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="break-duration">íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                        <select id="break-duration">
                            <option value="5" selected>5ë¶„</option>
                            <option value="10">10ë¶„</option>
                            <option value="15">15ë¶„</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="long-break-duration">ê¸´ íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                        <select id="long-break-duration">
                            <option value="15" selected>15ë¶„</option>
                            <option value="20">20ë¶„</option>
                            <option value="30">30ë¶„</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="pomodoros-before-long-break">ê¸´ íœ´ì‹ê¹Œì§€ ë½€ëª¨ë„ë¡œ íšŸìˆ˜</label>
                        <select id="pomodoros-before-long-break">
                            <option value="3">3íšŒ</option>
                            <option value="4" selected>4íšŒ</option>
                            <option value="5">5íšŒ</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h2 class="section-title">ê°œì¸ ì‹œê°„í‘œ ì¶”ê°€</h2>
                    <div class="schedule-builder">
                        <div class="schedule-form">
                            <div class="input-group" style="margin-bottom: 0;">
                                <label for="schedule-day">ìš”ì¼</label>
                                <select id="schedule-day">
                                    <option value="ì›”">ì›”</option>
                                    <option value="í™”">í™”</option>
                                    <option value="ìˆ˜">ìˆ˜</option>
                                    <option value="ëª©">ëª©</option>
                                    <option value="ê¸ˆ">ê¸ˆ</option>
                                    <option value="í† ">í† </option>
                                    <option value="ì¼">ì¼</option>
                                </select>
                            </div>
                            <div class="input-group" style="margin-bottom: 0;">
                                <label for="schedule-time">ì‹œê°„</label>
                                <input type="time" id="schedule-time" value="09:00">
                            </div>
                            <div class="input-group" style="margin-bottom: 0;">
                                <label for="schedule-activity">í™œë™</label>
                                <input type="text" id="schedule-activity" placeholder="ì˜ˆ: ìˆ˜í•™ ê³µë¶€, ìš´ë™">
                            </div>
                            <div class="input-group" style="margin-bottom: 0;">
                                <label for="schedule-type">êµ¬ë¶„</label>
                                <select id="schedule-type">
                                    <option value="study">í•™ìŠµ</option>
                                    <option value="break">íœ´ì‹</option>
                                    <option value="school">í•™êµ</option>
                                    <option value="other">ê¸°íƒ€</option>
                                </select>
                            </div>
                            <button class="add-btn" onclick="addScheduleItem()">ì¶”ê°€</button>
                        </div>
                        <div class="schedule-list" id="personalScheduleList">
                            </div>
                    </div>
                    <button class="add-btn" onclick="generateWeeklyTimetable()">ì£¼ê°„ ì‹œê°„í‘œ ì—…ë°ì´íŠ¸</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë„¤ë¹„ê²Œì´ì…˜ ë°” ìŠ¤í¬ë¡¤ ì‹œ ë‚˜íƒ€ë‚˜ê¸°/ìˆ¨ê¸°ê¸°
        let lastScrollY = window.scrollY;
        const navbar = document.getElementById('navbar');

        window.addEventListener('scroll', () => {
            if (window.scrollY < lastScrollY) {
                // Scrolling up
                navbar.classList.add('active');
            } else {
                // Scrolling down
                navbar.classList.remove('active');
            }
            lastScrollY = window.scrollY;
        });

        // í˜ì´ì§€ ì „í™˜ í•¨ìˆ˜
        function showPage(pageId) {
            // ëª¨ë“  í˜ì´ì§€ ìˆ¨ê¸°ê¸°
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.classList.remove('active');
            });

            // ì„ íƒëœ í˜ì´ì§€ ë³´ì´ê¸°
            document.getElementById(pageId).classList.add('active');

            // ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œì˜ active í´ë˜ìŠ¤ ì—…ë°ì´íŠ¸
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active'); // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
        }

        // ë½€ëª¨ë„ë¡œ ê³„ì‚° ë° ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (ê¸°ì¡´ ì½”ë“œ ìœ ì§€)
        function updatePomodoroCount(subject) {
            const weekdayMinutes = parseInt(document.getElementById(`${subject}-weekday`).value);
            const weekendMinutes = parseInt(document.getElementById(`${subject}-weekend`).value);
            const pomodoroDuration = 25; // 1 ë½€ëª¨ë„ë¡œ = 25ë¶„

            const weekdayPomodoros = Math.floor(weekdayMinutes / pomodoroDuration);
            const weekendPomodoros = Math.floor(weekendMinutes / pomodoroDuration);

            document.getElementById(`${subject}-pomodoro`).innerText = 
                `í‰ì¼: ${weekdayPomodoros}ë½€ëª¨ë„ë¡œ | ì£¼ë§: ${weekendPomodoros}ë½€ëª¨ë„ë¡œ`;
            
            updateStudyAnalysis();
        }

        // ì´ˆê¸° ë½€ëª¨ë„ë¡œ ê³„ì‚° ì‹¤í–‰ (í˜ì´ì§€ ë¡œë“œ ì‹œ)
        document.addEventListener('DOMContentLoaded', () => {
            updatePomodoroCount('korean');
            updatePomodoroCount('english');
            updatePomodoroCount('math');
            updatePomodoroCount('social');
            updatePomodoroCount('science');
            updatePomodoroCount('history');
            
            // ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì‹œ ë„¤ë¹„ê²Œì´ì…˜ ë°”ê°€ ë°”ë¡œ ë³´ì´ë„ë¡
            navbar.classList.add('active');
        });

        // í•™ìŠµ í˜„í™© ë¶„ì„ í•¨ìˆ˜
        function updateStudyAnalysis() {
            let totalWeekdayMinutes = 0;
            let totalWeekendMinutes = 0;
            const subjects = ['korean', 'english', 'math', 'social', 'science', 'history'];
            
            let pomodoroCounts = {};

            subjects.forEach(subject => {
                const weekdayMinutes = parseInt(document.getElementById(`${subject}-weekday`).value);
                const weekendMinutes = parseInt(document.getElementById(`${subject}-weekend`).value);
                totalWeekdayMinutes += weekdayMinutes;
                totalWeekendMinutes += weekendMinutes;
                
                const weekdayPomodoros = Math.floor(weekdayMinutes / 25);
                const weekendPomodoros = Math.floor(weekendMinutes / 25);
                pomodoroCounts[subject] = weekdayPomodoros * 5 + weekendPomodoros * 2; // ì£¼ 5ì¼ í‰ì¼, 2ì¼ ì£¼ë§ ê¸°ì¤€
            });

            const totalWeeklyMinutes = (totalWeekdayMinutes * 5) + (totalWeekendMinutes * 2);
            const totalStudyTimeElement = document.getElementById('totalStudyTime');
            const totalStudyAdviceElement = document.getElementById('totalStudyAdvice');

            totalStudyTimeElement.innerText = `${Math.floor(totalWeeklyMinutes / 60)}ì‹œê°„ ${totalWeeklyMinutes % 60}ë¶„`;
            totalStudyTimeElement.className = 'eval-status';

            if (totalWeeklyMinutes < 15 * 60) { // 15ì‹œê°„ ë¯¸ë§Œ
                totalStudyTimeElement.classList.add('status-danger');
                totalStudyAdviceElement.innerText = 'ì£¼ê°„ ì´ í•™ìŠµ ì‹œê°„ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ë” ëŠ˜ë ¤ë³´ì„¸ìš”!';
            } else if (totalWeeklyMinutes < 25 * 60) { // 15ì‹œê°„ ì´ìƒ 25ì‹œê°„ ë¯¸ë§Œ
                totalStudyTimeElement.classList.add('status-warning');
                totalStudyAdviceElement.innerText = 'ê¾¸ì¤€íˆ í•™ìŠµí•˜ì—¬ í•™ìŠµ ì‹œê°„ì„ í™•ë³´í•˜ê³  ìˆìŠµë‹ˆë‹¤.';
            } else { // 25ì‹œê°„ ì´ìƒ
                totalStudyTimeElement.classList.add('status-good');
                totalStudyAdviceElement.innerText = 'ì•„ì£¼ ì¢‹ìŠµë‹ˆë‹¤! ê· í˜• ì¡íŒ í•™ìŠµ ì‹œê°„ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤.';
            }

            // í•™ìŠµ ê· í˜•ë„ ë¶„ì„
            const nonZeroPomodoros = Object.values(pomodoroCounts).filter(count => count > 0);
            const balanceElement = document.getElementById('studyBalance');
            const balanceAdviceElement = document.getElementById('balanceAdvice');

            if (nonZeroPomodoros.length === 0) {
                balanceElement.innerText = 'ê³¼ëª© ì„¤ì • í•„ìš”';
                balanceElement.className = 'eval-status status-good';
                balanceAdviceElement.innerText = 'ê³¼ëª©ë³„ í•™ìŠµì‹œê°„ì„ ì„¤ì •í•˜ì—¬ ê· í˜•ë„ë¥¼ ë¶„ì„í•´ë³´ì„¸ìš”.';
            } else {
                const sumPomodoros = nonZeroPomodoros.reduce((a, b) => a + b, 0);
                const averagePomodoros = sumPomodoros / nonZeroPomodoros.length;

                let variance = nonZeroPomodoros.reduce((sum, count) => sum + Math.pow(count - averagePomodoros, 2), 0) / nonZeroPomodoros.length;
                let stdDev = Math.sqrt(variance);

                if (stdDev < 2) { // í‘œì¤€í¸ì°¨ê°€ ë‚®ìœ¼ë©´ ê· í˜•ì´ ì¢‹ìŒ
                    balanceElement.innerText = 'ë§¤ìš° ê· í˜• ì¡í˜';
                    balanceElement.className = 'eval-status status-good';
                    balanceAdviceElement.innerText = 'ëª¨ë“  ê³¼ëª©ì„ ê³ ë¥´ê²Œ í•™ìŠµí•˜ê³  ìˆìŠµë‹ˆë‹¤. í›Œë¥­í•´ìš”!';
                } else if (stdDev < 4) { // ì¤‘ê°„
                    balanceElement.innerText = 'ë³´í†µ';
                    balanceElement.className = 'eval-status status-warning';
                    balanceAdviceElement.innerText = 'ì¼ë¶€ ê³¼ëª©ì— ì§‘ì¤‘í•˜ê³  ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ê³¼ëª©ì„ ê· í˜•ìˆê²Œ í•™ìŠµí•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ì„¸ìš”.';
                } else { // ë†’ìœ¼ë©´ ë¶ˆê· í˜•
                    balanceElement.innerText = 'ë¶ˆê· í˜•';
                    balanceElement.className = 'eval-status status-danger';
                    balanceAdviceElement.innerText = 'íŠ¹ì • ê³¼ëª©ì— í•™ìŠµì´ í¸ì¤‘ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì·¨ì•½ ê³¼ëª© ë³´ì¶© ë° ì „ì²´ì ì¸ ê· í˜•ì„ ë§ì¶°ë³´ì„¸ìš”.';
                }
            }

            // ë½€ëª¨ë„ë¡œ íš¨ìœ¨ì„± ë¶„ì„ (ì•„ì§ íƒ€ì´ë¨¸ ë°ì´í„°ê°€ ì—†ìœ¼ë¯€ë¡œ ì„ì‹œ ê°’)
            const efficiencyElement = document.getElementById('pomodoroEfficiency');
            const efficiencyAdviceElement = document.getElementById('efficiencyAdvice');

            // ì´ ë¶€ë¶„ì€ ì‹¤ì œ ë½€ëª¨ë„ë¡œ ì™„ë£Œ íšŸìˆ˜ì™€ ëª©í‘œ íšŸìˆ˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‚˜ì¤‘ì— ì—…ë°ì´íŠ¸ë  ê²ƒì…ë‹ˆë‹¤.
            const completed = parseInt(document.getElementById('completedPomodoros').innerText) || 0;
            const target = parseInt(document.getElementById('targetPomodoros').innerText) || 0;
            
            if (target === 0) {
                efficiencyElement.innerText = 'íƒ€ì´ë¨¸ ì‚¬ìš© í•„ìš”';
                efficiencyElement.className = 'eval-status status-good';
                efficiencyAdviceElement.innerText = 'ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸ë¥¼ ì‚¬ìš©í•´ì„œ í•™ìŠµ íš¨ìœ¨ì„ í™•ì¸í•´ë³´ì„¸ìš”.';
            } else {
                const efficiency = (completed / target) * 100;
                efficiencyElement.innerText = `${efficiency.toFixed(0)}% íš¨ìœ¨`;
                if (efficiency >= 80) {
                    efficiencyElement.className = 'eval-status status-good';
                    efficiencyAdviceElement.innerText = 'ë½€ëª¨ë„ë¡œ ê¸°ë²•ì„ ì˜ í™œìš©í•˜ê³  ê³„ì‹œë„¤ìš”!';
                } else if (efficiency >= 50) {
                    efficiencyElement.className = 'eval-status status-warning';
                    efficiencyAdviceElement.innerText = 'ì¡°ê¸ˆ ë” ì§‘ì¤‘í•˜ì—¬ ë½€ëª¨ë„ë¡œë¥¼ ì™„ë£Œí•´ ë³´ì„¸ìš”.';
                } else {
                    efficiencyElement.className = 'eval-status status-danger';
                    efficiencyAdviceElement.innerText = 'ë½€ëª¨ë„ë¡œ ì§‘ì¤‘ ì‹œê°„ì„ ëŠ˜ë¦´ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.';
                }
            }
        }

        // ìŠ¤ì¼€ì¤„ ì„¤ì • í˜ì´ì§€ ê´€ë ¨ (ì¶”ê°€ ì˜ˆì •)
        let personalSchedules = [];

        function addScheduleItem() {
            const day = document.getElementById('schedule-day').value;
            const time = document.getElementById('schedule-time').value;
            const activity = document.getElementById('schedule-activity').value.trim();
            const type = document.getElementById('schedule-type').value;

            if (!activity) {
                alert('í™œë™ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            personalSchedules.push({ day, time, activity, type });
            renderPersonalScheduleList();
            generateWeeklyTimetable(); // ìŠ¤ì¼€ì¤„ ì¶”ê°€ ì‹œ ì‹œê°„í‘œ ìë™ ì—…ë°ì´íŠ¸
        }

        function renderPersonalScheduleList() {
            const listElement = document.getElementById('personalScheduleList');
            listElement.innerHTML = '';
            personalSchedules.sort((a, b) => {
                const daysOrder = ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† ', 'ì¼'];
                if (a.day !== b.day) {
                    return daysOrder.indexOf(a.day) - daysOrder.indexOf(b.day);
                }
                return a.time.localeCompare(b.time);
            });

            personalSchedules.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'schedule-item';
                div.innerHTML = `
                    <span>${item.day} ${item.time} - ${item.activity} (${item.type === 'study' ? 'í•™ìŠµ' : item.type === 'break' ? 'íœ´ì‹' : item.type === 'school' ? 'í•™êµ' : 'ê¸°íƒ€'})</span>
                    <button class="remove-btn" onclick="removeScheduleItem(${index})">ì‚­ì œ</button>
                `;
                listElement.appendChild(div);
            });
        }

        function removeScheduleItem(index) {
            personalSchedules.splice(index, 1);
            renderPersonalScheduleList();
            generateWeeklyTimetable(); // ìŠ¤ì¼€ì¤„ ì‚­ì œ ì‹œ ì‹œê°„í‘œ ìë™ ì—…ë°ì´íŠ¸
        }

        function generateWeeklyTimetable() {
            const weeklyTimetableDiv = document.getElementById('weeklyTimetable');
            weeklyTimetableDiv.innerHTML = '';

            const days = ['ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† ', 'ì¼'];
            const hours = Array.from({ length: 15 }, (_, i) => `${8 + i}:00`); // 08:00ë¶€í„° 22:00ê¹Œì§€

            // ìš”ì¼ í—¤ë” ìƒì„±
            days.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'day-header';
                dayHeader.innerText = day;
                weeklyTimetableDiv.appendChild(dayHeader);
            });

            // ë¹ˆ ìŠ¬ë¡¯ ë° ìŠ¤ì¼€ì¤„ í•­ëª© ì±„ìš°ê¸° (ê°„ë‹¨í™”ëœ ì˜ˆì‹œ)
            // ì‹¤ì œë¡œëŠ” ì‹œê°„ëŒ€ë³„ë¡œ ì •í™•í•˜ê²Œ ë§¤í•‘í•˜ëŠ” ë³µì¡í•œ ë¡œì§ì´ í•„ìš”í•©ë‹ˆë‹¤.
            // ì—¬ê¸°ì„œëŠ” ê° ìš”ì¼ì— ìŠ¤ì¼€ì¤„ í•­ëª©ë§Œ ë‚˜ì—´í•©ë‹ˆë‹¤.
            days.forEach(day => {
                const dayColumn = document.createElement('div');
                dayColumn.style.display = 'flex';
                dayColumn.style.flexDirection = 'column';
                dayColumn.style.gap = '5px';
                dayColumn.style.gridColumn = days.indexOf(day) + 1; // ê° ìš”ì¼ì˜ ê·¸ë¦¬ë“œ ì»¬ëŸ¼ ì„¤ì •

                const schedulesForDay = personalSchedules.filter(s => s.day === day)
                                                        .sort((a, b) => a.time.localeCompare(b.time));

                if (schedulesForDay.length === 0) {
                    const emptySlot = document.createElement('div');
                    emptySlot.className = 'time-slot';
                    emptySlot.innerText = 'ì¼ì • ì—†ìŒ';
                    dayColumn.appendChild(emptySlot);
                } else {
                    schedulesForDay.forEach(schedule => {
                        const timeSlot = document.createElement('div');
                        timeSlot.className = `time-slot ${schedule.type}`;
                        timeSlot.innerHTML = `<strong>${schedule.time}</strong><br>${schedule.activity}`;
                        dayColumn.appendChild(timeSlot);
                    });
                }
                weeklyTimetableDiv.appendChild(dayColumn);
            });
            // ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒì„ ìœ„í•´ 7ê°œ ì»¬ëŸ¼ì„ ì„¤ì •í–ˆìœ¼ë¯€ë¡œ, ê° ìš”ì¼ í—¤ë” ì•„ë˜ì— í•´ë‹¹ ìš”ì¼ì˜ ìŠ¤ì¼€ì¤„ì„ ë„£ëŠ” ë°©ì‹ì´ í•„ìš”í•©ë‹ˆë‹¤.
            // ì´ ì˜ˆì‹œì—ì„œëŠ” ë‹¨ìˆœíˆ ê° ìš”ì¼ë³„ ìŠ¤ì¼€ì¤„ì„ ê·¸ë£¹í™”í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤.
            // ì‹¤ì œ ì™„ë²½í•œ ì‹œê°„í‘œë¥¼ ê·¸ë¦¬ë ¤ë©´ ê° ì‹œê°„ ìŠ¬ë¡¯ì— í•´ë‹¹í•˜ëŠ” ì½˜í…ì¸ ë¥¼ ì±„ìš°ëŠ” ë” ë³µì¡í•œ ë¡œì§ì´ í•„ìš”í•©ë‹ˆë‹¤.
        }


        // íƒ€ì´ë¨¸ ê´€ë ¨ ë³€ìˆ˜ ë° í•¨ìˆ˜ (ë”ë¯¸ ë°ì´í„°)
        let timerInterval;
        let timeLeft = 25 * 60; // 25ë¶„ (ì´ˆ ë‹¨ìœ„)
        let isRunning = false;
        let currentMode = 'study'; // 'study', 'break', 'long-break'
        let pomodoroCount = 0;
        let pomodorosBeforeLongBreak = 4; // ì„¤ì •ì—ì„œ ê°€ì ¸ì˜¬ ê°’

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timerDisplay').innerText = 
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function startTimer() {
            if (isRunning) return;
            isRunning = true;
            document.getElementById('startBtn').disabled = true;
            document.getElementById('pauseBtn').disabled = false;

            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    isRunning = false;
                    
                    if (currentMode === 'study') {
                        pomodoroCount++;
                        document.getElementById('completedPomodoros').innerText = pomodoroCount;
                        document.getElementById('timerStatus').innerText = 'íœ´ì‹ ì‹œê°„!';
                        // ì•Œë¦¼ ë˜ëŠ” ì†Œë¦¬ ì¶”ê°€ ê°€ëŠ¥
                        if (pomodoroCount % pomodorosBeforeLongBreak === 0) {
                            currentMode = 'long-break';
                            timeLeft = parseInt(document.getElementById('long-break-duration').value) * 60;
                        } else {
                            currentMode = 'break';
                            timeLeft = parseInt(document.getElementById('break-duration').value) * 60;
                        }
                    } else {
                        currentMode = 'study';
                        timeLeft = parseInt(document.getElementById('study-duration').value) * 60;
                        document.getElementById('timerStatus').innerText = 'í•™ìŠµ ì‹œì‘!';
                    }
                    updateTimerDisplay();
                    document.getElementById('startBtn').disabled = false;
                    document.getElementById('pauseBtn').disabled = true;
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            document.getElementById('startBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            document.getElementById('timerStatus').innerText = 'ì¼ì‹œì •ì§€ë¨';
        }

        function resetTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            currentMode = 'study';
            timeLeft = parseInt(document.getElementById('study-duration').value) * 60;
            updateTimerDisplay();
            document.getElementById('startBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            document.getElementById('timerStatus').innerText = 'í•™ìŠµ ì¤€ë¹„ ì™„ë£Œ';
        }

        // ìŠ¤ì¼€ì¤„ ì„¤ì • ë³€ê²½ ì‹œ íƒ€ì´ë¨¸ ì„¤ì • ì—…ë°ì´íŠ¸ (ì¼ë¶€ë§Œ)
        document.getElementById('study-duration').addEventListener('change', resetTimer);
        document.getElementById('break-duration').addEventListener('change', resetTimer);
        document.getElementById('long-break-duration').addEventListener('change', resetTimer);
        document.getElementById('pomodoros-before-long-break').addEventListener('change', () => {
            pomodorosBeforeLongBreak = parseInt(document.getElementById('pomodoros-before-long-break').value);
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™” ë° ë¶„ì„ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', () => {
            showPage('study-plan'); // ì´ˆê¸°ì—ëŠ” í•™ìŠµê³„íš í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
            updatePomodoroCount('korean'); // ê° ê³¼ëª©ì˜ ì´ˆê¸° ë½€ëª¨ë„ë¡œ ê³„ì‚°
            updatePomodoroCount('english');
            updatePomodoroCount('math');
            updatePomodoroCount('social');
            updatePomodoroCount('science');
            updatePomodoroCount('history');
            updateStudyAnalysis(); // ì´ˆê¸° í•™ìŠµ í˜„í™© ë¶„ì„
            renderPersonalScheduleList(); // ì €ì¥ëœ ê°œì¸ ìŠ¤ì¼€ì¤„ ë¶ˆëŸ¬ì˜¤ê¸° (í˜„ì¬ëŠ” ë¹ˆ ë°°ì—´)
            generateWeeklyTimetable(); // ì£¼ê°„ ì‹œê°„í‘œ ìƒì„±
            updateTimerDisplay(); // íƒ€ì´ë¨¸ ì´ˆê¸°í™”
        });
    </script>
</body>
</html>
